@model CarRentsViewModel

<div class="hero inner-page" style="background-image: url('/images/hero_1_a.jpg');">
    <div class="container">
        <div class="row align-items-end ">
            <div class="col-lg-5">
                <div class="intro">
                    <h1><strong>@Model.Brand @Model.Model @Model.Year</strong></h1>
                    <div class="custom-breadcrumbs">
                        <a>Rents</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="site-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 mb-5 mb-lg-0 order-lg-2">
                <h2>All Rentals</h2>
                @if (Model.Reservations.Any())
                {
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Renter</th>
                                <th>Username</th>
                                <th>Phone number</th>
                                <th>Rental Date</th>
                                <th>Return Date</th>
                                <th>Total price</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var reservation in Model.Reservations)
                            {
                                <tr>
                                    <td>@(reservation.User.FirstName + " " + reservation.User.LastName)</td>
                                    <td>@(reservation.User.UserName)</td>
                                    <td>@reservation.User.PhoneNumber</td>
                                    <td>@String.Format("{0:dd-MM-yyyy}", reservation.StartDate)</td>
                                    <td>@String.Format("{0:dd-MM-yyyy}", reservation.EndDate)</td>
                                    <td>@reservation.RentalSum.ToString("C")</td>
                                    @if (reservation.Status == ReservationStatus.Confirmed)
                                    {
                                        <td><span class="badge badge-success">Confirmed</span></td>
                                    }
                                    else if (reservation.Status == ReservationStatus.Waiting)
                                    {
                                        <td><span class="badge badge-warning">Waiting...</span></td>
                                    }
                                    else if (reservation.Status == ReservationStatus.Denied)
                                    {
                                        <td><span class="badge badge-error">Denied</span></td>
                                    }
                                </tr>
                            }
                        </tbody>
                    </table>
                }
                else
                {
                    <p>No reservations found for this car.</p>
                }
            </div>
        </div>
    </div>
    <div class="text-center">
        <a href="javascript:history.go(-1)" class="btn btn-primary">Go Back</a>
    </div>
</div>
